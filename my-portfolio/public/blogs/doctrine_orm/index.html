<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta http-equiv="Accept-CH" content="DPR, Viewport-Width, Width">
<link rel="icon" href=/logo-flamme.webp type="image/gif">


<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload"
      as="style"
      href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
>
<link rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      media="print" onload="this.media='all'" />
<noscript>
  <link
          href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
          rel="stylesheet">
</noscript>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-WY1VPD2ER0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WY1VPD2ER0');
</script>





<link rel="stylesheet" href="/css/font.css" media="all">



<meta property="og:title" content="Doctrine ORM" />
<meta property="og:description" content="Unlock the full potential of Doctrine ORM in PHP applications with this comprehensive guide, featuring in-depth concepts, practical code examples, and advanced techniques." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/blogs/doctrine_orm/" /><meta property="article:section" content="blogs" />
<meta property="article:published_time" content="2024-03-13T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-03-13T00:00:00+00:00" /><meta property="og:site_name" content="Walid&#39;s Portfolio" />


<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Doctrine ORM"/>
<meta name="twitter:description" content="Unlock the full potential of Doctrine ORM in PHP applications with this comprehensive guide, featuring in-depth concepts, practical code examples, and advanced techniques."/>


<link rel="stylesheet" href="/bootstrap-5/css/bootstrap.min.css" media="all"><link rel="stylesheet" href="/css/header.css" media="all">
<link rel="stylesheet" href="/css/footer.css" media="all">


<link rel="stylesheet" href="/css/theme.css" media="all">


<link rel="stylesheet" href="/css/media-queries.css" media="all">






<style>
    :root {
        --text-color: #343a40;
        --text-secondary-color: #6c757d;
        --background-color: #eaedf0;
        --secondary-background-color: #64ffda1a;
        --primary-color: #007bff;
        --secondary-color: #f8f9fa;
        --light-green-color: #01ffbe;
        --blue-violet-color: #8752ce96;
        --light-violet-color: #b794f7;
        --neon-green-color: #a6e22e;
        --neon-blue-color: #66d9ef;
        --neon-red-color: #f92672;
        --neon-yellow-color: #e6db74;
        --faded-aqua-color: #28d9fab3;

         
        --text-color-dark: #e4e6eb;
        --text-secondary-color-dark: #b0b3b8;
        --background-color-dark: #000000;
        --secondary-background-color-dark: #1d1d1f;
        --primary-color-dark: #ffffff;
        --secondary-color-dark: #212529;


    }
    body {
        font-size: 1rem;
        font-weight: 400;
        line-height: 1.5;
        text-align: left;
    }

    html {
        background-color: var(--background-color) !important;
    }

    body::-webkit-scrollbar {
        width: .5em;
        height: .5em;
        background-color: var(--background-color);
    }
    
    ::-webkit-scrollbar-track {
        box-shadow: inset 0 0 6px var(--background-color);
        border-radius: 1rem;
    }
    
    ::-webkit-scrollbar-thumb {
        border-radius: 1rem;
        background-color: var(--secondary-color);
        outline: 1px solid var(--background-color);
    }

    #search-content::-webkit-scrollbar {
        width: .5em;
        height: .1em;
        background-color: var(--background-color);
    }
</style>

<meta name="description" content="Unlock the full potential of Doctrine ORM in PHP applications with this comprehensive guide, featuring in-depth concepts, practical code examples, and advanced techniques.">
<link rel="stylesheet" href="/css/single.css">


<script defer src="/fontawesome-6/all-6.4.2.js"></script>

  <title>
Doctrine ORM | Walid&#39;s Portfolio

  </title>
</head>

<body class="light">
  
  
<script>
    let localStorageValue = localStorage.getItem("pref-theme");
    let mediaQuery = window.matchMedia('(prefers-color-scheme: dark)').matches;

    switch (localStorageValue) {
        case "dark":
            document.body.classList.add('dark');
            break;
        case "light":
            document.body.classList.remove('dark');
            break;
        default:
            if (mediaQuery) {
                document.body.classList.add('dark');
            }
            break;
    }
</script>




<script>
    var prevScrollPos = window.pageYOffset;

    window.addEventListener("scroll", function showHeaderOnScroll() {
        
        if (window.innerWidth > 990) {
            let profileHeaderElem = document.getElementById("profileHeader");
            let currentScrollPos = window.pageYOffset;
            let resetHeaderStyle = false;
            let showNavBarOnScrollUp = true;
            let showNavBar = showNavBarOnScrollUp ? prevScrollPos > currentScrollPos : currentScrollPos > 0;
            
            if (showNavBar) {
                profileHeaderElem.classList.add("showHeaderOnTop");
            } else {
                resetHeaderStyle = true;
            }

            if (currentScrollPos === 0) {
                resetHeaderStyle = true;
            }

            if (resetHeaderStyle) {
                profileHeaderElem.classList.remove("showHeaderOnTop");
            }

            prevScrollPos = currentScrollPos;
        } else {
            
            document.getElementById("profileHeader").classList.add("showHeaderOnTop");
        }
    });
</script>




<header id="profileHeader">
    <nav class="pt-3 navbar navbar-expand-lg animate">
        <div class="container-fluid mx-xs-12 mx-sm-12 mx-md-12 mx-lg-8">
            
            <a class="navbar-brand primary-font text-wrap" href="/">
                
                <img src="/logo-flamme.webp" width="50" height="50"
                    class="d-inline-block align-top mt-1">
                Walid&#39;s Portfolio
                
            </a>

            
                <div class="flex-nowrap flex-grow-1">
                    <input id="search" autocomplete="off" class="form-control mr-sm-2 mt-1 d-none d-md-block" placeholder='Search...'
                        aria-label="Search" oninput="searchOnChange(event)">
                </div>
            

            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
                aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                <svg aria-hidden="true" height="24" viewBox="0 0 16 16" version="1.1" width="24" data-view-component="true">
                    <path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"></path>
                </svg>
            </button>

            
            <div class="collapse navbar-collapse text-wrap primary-font" id="navbarContent">
                <ul class="navbar-nav ms-auto text-center">
                    
                        <li class="nav-item navbar-text d-block d-md-none">
                            <div class="nav-link">
                                <input id="search" autocomplete="off" class="form-control mr-sm-2" placeholder='Search...' aria-label="Search" oninput="searchOnChange(event)">
                            </div>
                        </li>
                    

                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/#about" aria-label="about">
                            About
                        </a>
                    </li>
                    

                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/#experience"
                            aria-label="experience">
                            Experience
                        </a>
                    </li>
                    

                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/#projects"
                            aria-label="projects">
                            Projects
                        </a>
                    </li>
                    

                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/#education"
                            aria-label="education">
                            Education
                        </a>
                    </li>
                    

                    

                    

                    
                    
                    
                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/blogs" title="Learnings">
                            
                            Learnings
                        </a>
                    </li>
                    
                    
                    
                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/gallery" title="Gallery">
                            
                            Gallery
                        </a>
                    </li>
                    
                    

                    
                    <li class="nav-item navbar-text">
                        
                        <div class="text-center">
                            <button id="theme-toggle">
                                <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                                </svg>
                                <svg id="sun" class="ml-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="5"></circle>
                                    <line x1="12" y1="1" x2="12" y2="3"></line>
                                    <line x1="12" y1="21" x2="12" y2="23"></line>
                                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                    <line x1="1" y1="12" x2="3" y2="12"></line>
                                    <line x1="21" y1="12" x2="23" y2="12"></line>
                                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                                </svg>
                            </button>
                        </div>
                    </li>
                    

                </ul>

            </div>
        </div>
    </nav>
<section id="search-content" class="py-2">
    <div class="container" id="search-results"></div>
</section>
</header>
<div id="content">
<section id="single">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-sm-12 col-md-12 col-lg-9">
        <div class="pr-lg-4">
          <div class="title mb-5">
            <h1 class="text-center mb-4">Doctrine ORM</h1>
            <div id="articleInfo" class="text-center">
              Walid 
              <small>|</small>
              Mar 13, 2024

              
              <span id="readingTime">
                min read
              </span>
              
            </div>
          </div>
          
          <div class="featured-image">
            <img class="img-fluid mx-auto d-block" src="/images/blackberry.webp" alt="Doctrine ORM">
          </div>
          
          <article class="page-content  p-2">
          <h1 id="doctrine-orm-empowering-php-data-management">Doctrine ORM: Empowering PHP Data Management</h1>
<h2 id="introduction">Introduction</h2>
<p>Doctrine ORM stands as a pivotal tool in PHP development, bridging the gap between object-oriented programming and relational databases.</p>
<h2 id="core-concepts">Core Concepts</h2>
<h3 id="the-entitymanager-core-of-doctrine">The EntityManager: Core of Doctrine</h3>
<h4 id="introduction-to-entitymanager">Introduction to EntityManager</h4>
<p>EntityManager acts as the central point of Doctrine&rsquo;s ORM functionality, managing the lifecycle of entities.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Doctrine\ORM\Tools\Setup</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Doctrine\ORM\EntityManager</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Specify the path to your entities and set the development mode
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>$paths <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;/path/to/your/entities&#34;</span>];
</span></span><span style="display:flex;"><span>$isDevMode <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Database configuration parameters
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>$dbParams <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;driver&#39;</span>   <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;pdo_mysql&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;user&#39;</span>     <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;your_db_user&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;password&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;your_db_password&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;dbname&#39;</span>   <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;your_db_name&#39;</span>,
</span></span><span style="display:flex;"><span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Create a simple &#34;default&#34; Doctrine ORM configuration for Annotations
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>$config <span style="color:#f92672">=</span> <span style="color:#a6e22e">Setup</span><span style="color:#f92672">::</span><span style="color:#a6e22e">createAnnotationMetadataConfiguration</span>($paths, $isDevMode);
</span></span><span style="display:flex;"><span>$entityManager <span style="color:#f92672">=</span> <span style="color:#a6e22e">EntityManager</span><span style="color:#f92672">::</span><span style="color:#a6e22e">create</span>($dbParams, $config);</span></span></code></pre></div>
<h3 id="understanding-repositories">Understanding Repositories</h3>
<h4 id="leveraging-custom-repositories">Leveraging Custom Repositories</h4>
<p>Repositories abstract the business logic for database operations, tailored to each entity.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#75715e">// Assuming &#39;User&#39; is an entity
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>$userRepository <span style="color:#f92672">=</span> $entityManager<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getRepository</span>(<span style="color:#e6db74">&#39;User&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Find all users with a status of &#39;active&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>$activeUsers <span style="color:#f92672">=</span> $userRepository<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">findBy</span>([<span style="color:#e6db74">&#39;status&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;active&#39;</span>]);</span></span></code></pre></div>
<h2 id="advanced-features">Advanced Features</h2>
<h3 id="strategic-data-mapping">Strategic Data Mapping</h3>
<h4 id="exploring-inheritance-mapping">Exploring Inheritance Mapping</h4>
<p>Doctrine supports Inheritance Mapping, facilitating polymorphic associations between entities.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> * @Entity
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> * @InheritanceType(&#34;SINGLE_TABLE&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> * @DiscriminatorColumn(name=&#34;discr&#34;, type=&#34;string&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> * @DiscriminatorMap({&#34;person&#34; = &#34;Person&#34;, &#34;employee&#34; = &#34;Employee&#34;})
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Common attributes
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> * @Entity
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Employee</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">Person</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Employee-specific attributes
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}</span></span></code></pre></div>
<h3 id="efficient-querying">Efficient Querying</h3>
<h4 id="dql-doctrines-powerful-query-language">DQL: Doctrine&rsquo;s Powerful Query Language</h4>
<p>DQL allows for complex queries that are tightly integrated with your object model.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>$query <span style="color:#f92672">=</span> $entityManager<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">createQuery</span>(<span style="color:#e6db74">&#39;SELECT u FROM User u WHERE u.age &gt; 20&#39;</span>);
</span></span><span style="display:flex;"><span>$youngUsers <span style="color:#f92672">=</span> $query<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getResult</span>();</span></span></code></pre></div>
<h4 id="the-querybuilder-interface">The QueryBuilder Interface</h4>
<p>QueryBuilder offers a fluent interface to build SQL queries programmatically.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>$qb <span style="color:#f92672">=</span> $entityManager<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">createQueryBuilder</span>();
</span></span><span style="display:flex;"><span>$qb<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">select</span>(<span style="color:#e6db74">&#39;u&#39;</span>)
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">from</span>(<span style="color:#e6db74">&#39;User&#39;</span>, <span style="color:#e6db74">&#39;u&#39;</span>)
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">where</span>(<span style="color:#e6db74">&#39;u.status = :status&#39;</span>)
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setParameter</span>(<span style="color:#e6db74">&#39;status&#39;</span>, <span style="color:#e6db74">&#39;active&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$activeUsers <span style="color:#f92672">=</span> $qb<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getQuery</span>()<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getResult</span>();</span></span></code></pre></div>
<h2 id="best-practices-for-performance">Best Practices for Performance</h2>
<h3 id="leveraging-the-second-level-cache">Leveraging the Second-Level Cache</h3>
<h4 id="introduction-to-caching-strategies">Introduction to Caching Strategies</h4>
<p>Implementing second-level cache significantly reduces database load.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Doctrine\Common\Cache\RedisCache</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$cache <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">RedisCache</span>();
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Configure cache, assuming Redis is already set up
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>$entityManager<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getConfiguration</span>()<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setSecondLevelCacheEnabled</span>(<span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>$entityManager<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getConfiguration</span>()<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getSecondLevelCacheConfiguration</span>()<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setCacheFactory</span>($cache);</span></span></code></pre></div>
<h3 id="entity-lifecycle-events">Entity Lifecycle Events</h3>
<h4 id="utilizing-lifecycle-callbacks">Utilizing Lifecycle Callbacks</h4>
<p>Lifecycle callbacks automate logic during entity operations, such as pre-persist and post-load actions.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> * @Entity
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> * @HasLifecycleCallbacks
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * @PrePersist
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">onPrePersist</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Automatically called before the entity is persisted
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">createdAt</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">\DateTime</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h2 id="random-example">Random Example</h2>
<p>The following example demonstrates how to use Doctrine ORM to insert a new record into a database.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>$product <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Product</span>();
</span></span><span style="display:flex;"><span>$product<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setName</span>(<span style="color:#e6db74">&#39;New Product&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$entityManager<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">persist</span>($product);
</span></span><span style="display:flex;"><span>$entityManager<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">flush</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#39;Product created with ID &#39;</span> <span style="color:#f92672">.</span> $product<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getId</span>();</span></span></code></pre></div>
<h2 id="conclusion">Conclusion</h2>
<p>Doctrine ORM represents a comprehensive solution for PHP applications, offering powerful tools for object-relational mapping, query optimization, and data management. By leveraging its advanced features and best practices, developers can craft efficient, scalable, and maintainable applications. Continual learning and experimentation with Doctrine will solidify its concepts and maximize its benefits in your projects.</p>
<h3 id="additional-resources">Additional Resources</h3>
<ul>
<li><a href="https://www.doctrine-project.org/projects/orm.html">Doctrine ORM Official Documentation</a>: The go-to resource for getting started and advancing with Doctrine ORM.</li>
<li><a href="https://phptherightway.com/#databases">PHP: The Right Way - Databases and Doctrine</a>: An excellent primer on PHP best practices, including sections on Doctrine.</li>
<li><a href="https://symfony.com/doc/current/doctrine.html">Symfony Framework and Doctrine ORM</a>: Insights into integrating Doctrine ORM with the Symfony framework, enhancing your Symfony-based projects.</li>
</ul>

          </article>
        </div>
      </div>
      <div class="col-sm-12 col-md-12 col-lg-3">
        <div id="stickySideBar" class="sticky-sidebar">
          
          <aside class="toc">
              <h5>
                Table Of Contents
              </h5>
              <div class="toc-content">
                <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#core-concepts">Core Concepts</a>
      <ul>
        <li><a href="#the-entitymanager-core-of-doctrine">The EntityManager: Core of Doctrine</a></li>
        <li><a href="#understanding-repositories">Understanding Repositories</a></li>
      </ul>
    </li>
    <li><a href="#advanced-features">Advanced Features</a>
      <ul>
        <li><a href="#strategic-data-mapping">Strategic Data Mapping</a></li>
        <li><a href="#efficient-querying">Efficient Querying</a></li>
      </ul>
    </li>
    <li><a href="#best-practices-for-performance">Best Practices for Performance</a>
      <ul>
        <li><a href="#leveraging-the-second-level-cache">Leveraging the Second-Level Cache</a></li>
        <li><a href="#entity-lifecycle-events">Entity Lifecycle Events</a></li>
      </ul>
    </li>
    <li><a href="#random-example">Random Example</a></li>
    <li><a href="#conclusion">Conclusion</a>
      <ul>
        <li><a href="#additional-resources">Additional Resources</a></li>
      </ul>
    </li>
  </ul>
</nav>
              </div>
          </aside>
          

          
          <aside class="tags">
            <h5>Tags</h5>
            <ul class="tags-ul list-unstyled list-inline">
              
              <li class="list-inline-item"><a href="http://localhost:1313/tags/php" target="_blank">PHP</a></li>
              
              <li class="list-inline-item"><a href="http://localhost:1313/tags/backend" target="_blank">Backend</a></li>
              
              <li class="list-inline-item"><a href="http://localhost:1313/tags/database" target="_blank">Database</a></li>
              
              <li class="list-inline-item"><a href="http://localhost:1313/tags/orm" target="_blank">ORM</a></li>
              
              <li class="list-inline-item"><a href="http://localhost:1313/tags/programming" target="_blank">Programming</a></li>
              
            </ul>
          </aside>
          

          
          <aside class="social">
            <h5>Social</h5>
            <div class="social-content">
              <ul class="list-inline">
                <li class="list-inline-item text-center">
                  <a target="_blank" href="https://twitter.com/share?text=Doctrine%20ORM&url=http%3a%2f%2flocalhost%3a1313%2fblogs%2fdoctrine_orm%2f">
                    <i class="fab fa-twitter"></i>
                  </a>
                </li>
                <li class="list-inline-item text-center">
                  <a target="_blank" href="https://api.whatsapp.com/send?text=Doctrine%20ORM: http%3a%2f%2flocalhost%3a1313%2fblogs%2fdoctrine_orm%2f">
                    <i class="fab fa-whatsapp"></i>
                  </a>
                </li>
                <li class="list-inline-item text-center">
                  <a target="_blank" href='mailto:?subject=Doctrine%20ORM&amp;body=Check%20out%20this%20site http%3a%2f%2flocalhost%3a1313%2fblogs%2fdoctrine_orm%2f'>
                    <i class="fa fa-envelope"></i>
                  </a>
                </li>
              </ul>
            </div>
          </aside>
          
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12 col-lg-9 p-4">
        
      </div>
    </div>
  </div>
  <button class="p-2 px-3" onclick="topFunction()" id="topScroll">
    <i class="fas fa-angle-up"></i>
  </button>
</section>


<div class="progress">
  <div id="scroll-progress-bar" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
</div>
<Script src="/js/scrollProgressBar.js"></script>


<script>
  var topScroll = document.getElementById("topScroll");
  window.onscroll = function() {scrollFunction()};

  function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      topScroll.style.display = "block";
    } else {
      topScroll.style.display = "none";
    }
  }

  function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
  }

  
  let stickySideBarElem = document.getElementById("stickySideBar");
  let stickyNavBar = 'true';
  if(stickyNavBar) {
    let headerElem = document.getElementById("profileHeader");
    let headerHeight = headerElem.offsetHeight + 15;
    stickySideBarElem.style.top = headerHeight + "px";
  } else {
    stickySideBarElem.style.top = "50px";
  }
</script>


<script src="/js/readingTime.js"></script>



  </div><footer>
    
 

<div class="text-center pt-2">
  
  <span class="px-1">
    <a href="https://github.com/Walid-dev" aria-label="github">
      <svg xmlns="http://www.w3.org/2000/svg" width="2.7em" height="2.7em" viewBox="0 0 1792 1792">
        <path
          d="M522 1352q-8 9-20-3-13-11-4-19 8-9 20 3 12 11 4 19zm-42-61q9 12 0 19-8 6-17-7t0-18q9-7 17 6zm-61-60q-5 7-13 2-10-5-7-12 3-5 13-2 10 5 7 12zm31 34q-6 7-16-3-9-11-2-16 6-6 16 3 9 11 2 16zm129 112q-4 12-19 6-17-4-13-15t19-7q16 5 13 16zm63 5q0 11-16 11-17 2-17-11 0-11 16-11 17-2 17 11zm58-10q2 10-14 14t-18-8 14-15q16-2 18 9zm964-956v960q0 119-84.5 203.5t-203.5 84.5h-224q-16 0-24.5-1t-19.5-5-16-14.5-5-27.5v-239q0-97-52-142 57-6 102.5-18t94-39 81-66.5 53-105 20.5-150.5q0-121-79-206 37-91-8-204-28-9-81 11t-92 44l-38 24q-93-26-192-26t-192 26q-16-11-42.5-27t-83.5-38.5-86-13.5q-44 113-7 204-79 85-79 206 0 85 20.5 150t52.5 105 80.5 67 94 39 102.5 18q-40 36-49 103-21 10-45 15t-57 5-65.5-21.5-55.5-62.5q-19-32-48.5-52t-49.5-24l-20-3q-21 0-29 4.5t-5 11.5 9 14 13 12l7 5q22 10 43.5 38t31.5 51l10 23q13 38 44 61.5t67 30 69.5 7 55.5-3.5l23-4q0 38 .5 103t.5 68q0 22-11 33.5t-22 13-33 1.5h-224q-119 0-203.5-84.5t-84.5-203.5v-960q0-119 84.5-203.5t203.5-84.5h960q119 0 203.5 84.5t84.5 203.5z"
          fill="white"
        />

        <metadata>
          <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#" xmlns:dc="http://purl.org/dc/elements/1.1/">
            <rdf:Description
              about="https://iconscout.com/legal#licenses"
              dc:title="Github, Online, Project, Hosting, Square"
              dc:description="Github, Online, Project, Hosting, Square"
              dc:publisher="Iconscout"
              dc:date="2016-12-14"
              dc:format="image/svg+xml"
              dc:language="en"
            >
              <dc:creator>
                <rdf:Bag>
                  <rdf:li>Font Awesome</rdf:li>
                </rdf:Bag>
              </dc:creator>
            </rdf:Description>
          </rdf:RDF>
        </metadata>
      </svg>
    </a>
  </span>

   
  <span class="px-1">
    <a href="https://www.linkedin.com/in/walid-hlali/" aria-label="linkedin">
      <svg xmlns="http://www.w3.org/2000/svg" width="2.4em" height="2.4em" fill="#fff" aria-label="LinkedIn" viewBox="0 0 512 512">
        <rect width="512" height="512" fill="#0077b5" rx="15%" />
        <circle cx="142" cy="138" r="37" />
        <path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198" />
        <path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32" />
      </svg>
    </a>
  </span>
   
  <a href="https://twitter.com/" aria-label="twitter">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48px" height="48px">
      <path fill="#03a9f4" d="M42,37c0,2.762-2.239,5-5,5H11c-2.762,0-5-2.238-5-5V11c0-2.762,2.238-5,5-5h26c2.761,0,5,2.238,5,5 V37z" />
      <path
        fill="#fff"
        d="M36,17.12c-0.882,0.391-1.999,0.758-3,0.88c1.018-0.604,2.633-1.862,3-3 c-0.951,0.559-2.671,1.156-3.793,1.372C31.311,15.422,30.033,15,28.617,15C25.897,15,24,17.305,24,20v2c-4,0-7.9-3.047-10.327-6 c-0.427,0.721-0.667,1.565-0.667,2.457c0,1.819,1.671,3.665,2.994,4.543c-0.807-0.025-2.335-0.641-3-1c0,0.016,0,0.036,0,0.057 c0,2.367,1.661,3.974,3.912,4.422C16.501,26.592,16,27,14.072,27c0.626,1.935,3.773,2.958,5.928,3c-1.686,1.307-4.692,2-7,2 c-0.399,0-0.615,0.022-1-0.023C14.178,33.357,17.22,34,20,34c9.057,0,14-6.918,14-13.37c0-0.212-0.007-0.922-0.018-1.13 C34.95,18.818,35.342,18.104,36,17.12"
      />
    </svg>
  </a>
    
</div>
<div class="container py-2">
  <div class="row justify-content-center">
    <div class="col-md-4 text-center">
      <div class="pb-2">
        <a href="http://localhost:1313/" title="Walid&#39;s Portfolio">
          <img alt="Footer logo" src="/logo-flamme.webp" height="80px" width="80px" />
        </a>
      </div>
      <p id="copyright">&copy; 2024  All rights reserved</p>
    </div>
  </div>
</div>
</footer><script src="/bootstrap-5/js/bootstrap.bundle.min.js"></script><script>

  console.log("Script is working");

  </script>
<script>
    if (document.body.className.includes("light")) {
        document.body.classList.add('dark');
        localStorage.setItem("pref-theme", 'dark');
    }
</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
            alert("Light mode still in development.");
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
    })

</script>


    <script src="/js/search.js"></script>









<script src="/js/main.js"></script>



  
</body>

</html>